{% extends "layout.html" %}

{% block title %}Ilmoituksen muokkaus{% endblock %}

{% block content %}
<section class="medium">
  <h2>Ilmoituksen muokkaus</h2>

  <h4 class="right required"> Pakollinen kenttä</h4>

  <form class="form-stack" action="/edit_listing/{{ listing.id }}" method="post">

    <div class="grid grid-large">

      <label class="required">
        Asuntotyyppi
        <select name="property_type_id" required>
          <option value="">Valitse</option>
          {% for property_type in property_types %}
            <option value="{{ property_type.id }}"
            {% if property_type.id == listing.property_type_id %}selected{% endif %}>
              {{ property_type.value }}
            </option>
          {% endfor %}
        </select>
      </label>

      <label class="required">
        Paikkakunta
        <select name="municipality_id" required>
          <option value="">Valitse</option>
          {% for municipality in municipalities %}
            <option value="{{ municipality.id }}"
            {% if municipality.id == listing.municipality_id %}selected{% endif %}>
              {{ municipality.value }}
            </option>
          {% endfor %}
        </select>
      </label>

      <label class="required">
        Huonemäärä
        <select name="rooms_id" required>
          <option value="">Valitse</option>
          {% for room in rooms %}
            <option value="{{ room.id }}"
            {% if room.id == listing.rooms_id %}selected{% endif %}>
              {{ room.value }}
            </option>
          {% endfor %}
        </select>
      </label>

      <label class="required">
        Kunto
        <select name="condition_id" required>
          <option value="">Valitse</option>
          {% for condition in conditions %}
            <option value="{{ condition.id }}"
            {% if condition.id == listing.condition_id %}selected{% endif %}>
              {{ condition.value }}
            </option>
          {% endfor %}
        </select>
      </label>

      <label class="required">
        Neliömäärä
        <input type="text" name="size" value="{{ listing.size }}" maxlength="10" required>
      </label>

      <label class="required">
        Vuokrahinta
        <input type="text" name="rent" value="{{ listing.rent }}" maxlength="10" required>
      </label>

      <label class="required">
        Katuosoite
        <input type="text" name="address" value="{{ listing.address }}" maxlength="50" required>
      </label>

      <label class="required">
        Postinumero
        <input type="text" name="postcode" value="{{ listing.postcode }}" maxlength="5" required>
      </label>

      <label>
        Kerros
        <input type="text" name="floor" value="{{ listing.floor or '' }}">
      </label>

      <label class="required">
        Kerroksia
        <input type="text" name="floors" value="{{ listing.floors }}" required>
      </label>

    </div>

    <label class="required">
      Kuvaus
      <textarea name="description" rows="6" maxlength="2000" required>{{ listing.description }}</textarea>
    </label>

    <input type="hidden" name="listing_id" value="{{ listing.id }}">
    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

    <div class="button-row">
      <button type="submit" name="update">Päivitä</button>
      <button type="submit" name="cancel">Peruuta</button>
    </div>

  </form>

</section>

{% endblock %}